{"version":3,"sources":["shared/constants/env.ts","config/httpRequest.ts","store/selector/user.ts","store/actions/user.ts","pages/home/views/CardUser.tsx","pages/home/views/CardUserLoading.tsx","pages/home/index.tsx"],"names":["console","log","process","ENV","API_URL","httpRequest","API_BASE_CONFIG","baseURL","timeout","cancelToken","axios","CancelToken","source","socialApi","create","axiosInterceptorsResponseError","error","a","response","config","data","status","Promise","reject","interceptors","use","request","headers","token","withAxiosCancelation","cancelRequest","message","cancel","userList","state","user","getuserList","page","limit","dispatch","type","USER_LIST_LOADING","get","res","USER_LIST_SUCCESS","payload","list","USER_LIST_FAIL","UserItem","props","onClickCard","onClick","e","id","className","name","split","map","n","join","toUpperCase","company","website","username","address","city","Home","useDispatch","history","useHistory","useSelector","getUser","useState","paramsUser","setParamUser","push","useEffect","loading","length","index","CardUser","CardUserLoading","temParams"],"mappings":"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","file":"static/js/4.c92832bd.chunk.js","sourcesContent":["const API_URL = process.env.REACT_APP_API_URL\r\nconsole.log(process.env)\r\nconst ENV = {\r\n    API_URL,\r\n}\r\n\r\nexport default ENV","import axios, { AxiosRequestConfig , AxiosError ,AxiosResponse} from \"axios\";\r\nimport ENV from '../shared/constants/env'\r\n\r\nconst httpRequest = () => {\r\n\r\n\tconst API_BASE_CONFIG = {\r\n\t\tbaseURL: ENV.API_URL,\r\n\t\ttimeout: 60000,\r\n\t};\r\n\r\n\tconst cancelToken = axios.CancelToken.source();\r\n\r\n\tconst socialApi : any = axios.create(API_BASE_CONFIG);\r\n\r\n\t// add cancelation feature to axios request config\r\n\tconst withAxiosCancelation = (config:AxiosRequestConfig) => {\r\n\t\tconfig.cancelToken = cancelToken.token;\r\n\t\treturn config;\r\n\t};\r\n\r\n\t// handleGlobalConfig\r\n\tconst handleGlobalConfig = (config : AxiosRequestConfig) => {\r\n\t\tconst globalConfig = withAxiosCancelation(config);\r\n\t\treturn globalConfig;\r\n\t};\r\n\r\n\tconst axiosInterceptorsRequest = (config : AxiosRequestConfig ) => {\r\n\t\tconfig.headers[\"Content-Type\"] = \"application/json\";\r\n\t\treturn config;\r\n\t};\r\n\r\n\tconst axiosInterceptorsRequestError = (error : AxiosRequestConfig) => {\r\n\t\treturn Promise.reject(error);\r\n\t};\r\n\r\n\tconst axiosInterceptorsResponseSuccess = (response : AxiosResponse ) => {\r\n\t\treturn response;\r\n\t};\r\n\r\n\tconst axiosInterceptorsResponseError = async (error : AxiosError) => {\r\n\t\tconst { config, data, status } = error.response || {};\r\n\t\treturn Promise.reject(error);\r\n\t};\r\n\r\n\t// digivApi.interceptors.response.use(\r\n\t//     axiosInterceptorsResponseSuccess,\r\n\t//     axiosInterceptorsResponseError\r\n\t// );\r\n\r\n\tsocialApi.interceptors.response.use(\r\n\t\taxiosInterceptorsResponseSuccess,\r\n\t\taxiosInterceptorsResponseError,\r\n\t);\r\n\r\n\tsocialApi.interceptors.request.use(\r\n\t\taxiosInterceptorsRequest,\r\n\t\taxiosInterceptorsRequestError,\r\n\t);\r\n\tsocialApi.interceptors.request.use(handleGlobalConfig);\r\n\treturn {\r\n\t\tcancelRequest: (message : any) => cancelToken.cancel(message),\r\n\t\tsocialApi,\r\n\t};\r\n};\r\nexport const socialApi = httpRequest().socialApi;\r\nexport default httpRequest;\r\n","\r\nimport { RootStore } from '@store/reducers/rootReducer';\r\n\r\nexport const userList = (state: RootStore) => state.user.userList","import { Dispatch } from \"redux\";\r\nimport {\r\n\tUserListDispatchType,\r\n\tUSER_LIST_LOADING,\r\n\tUSER_LIST_FAIL,\r\n\tUSER_LIST_SUCCESS,\r\n} from \"@store/types/user.types\";\r\nimport httpRequest from \"../../config/httpRequest\";\r\nimport axios from \"axios\";\r\n\r\nconst { socialApi } = httpRequest();\r\nexport const getuserList = (page: number, limit: number) => async (\r\n\tdispatch: Dispatch<UserListDispatchType>,\r\n) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LIST_LOADING,\r\n\t\t});\r\n\r\n\t\tconst res = await socialApi.get(`users?limit=${limit}&page=${page}`);\r\n\r\n\t\tif (res.data) {\r\n\t\t\tconst { data } = res;\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: USER_LIST_SUCCESS,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tlist: data,\r\n\t\t\t\t\tpage: page,\r\n\t\t\t\t\tlimit: limit,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: USER_LIST_FAIL,\r\n\t\t\t});\r\n\t\t}\r\n\t} catch (e) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LIST_FAIL,\r\n\t\t});\r\n\t}\r\n};\r\n","import React from 'react'\r\nimport { User as userType } from \"@store/types/user.types\"\r\ninterface UserItemProps {\r\n    user: userType,\r\n    onClickCard: (id: string) => void\r\n}\r\n\r\nconst UserItem: React.FunctionComponent<UserItemProps> = (props: UserItemProps) => {\r\n    const { user, onClickCard } = props\r\n    return (\r\n        <div onClick={(e) => onClickCard(user.id)} className=\"cursor-pointer relative bg-white py-6 px-6 rounded-3xl w-full my-4 shadow-xl\">\r\n            <div className=\" text-white flex items-center absolute rounded-full py-4 px-4 shadow-xl bg-teal-500 left-4 -top-6\">\r\n                {user.name ? (<h1 className=\"text-xl text-bold\">{user.name?.split(\" \").map((n) => n[0]).join(\"\").toUpperCase()}</h1>) : ('sad')}\r\n\r\n            </div>\r\n            <div className=\"mt-8\">\r\n                <p className=\"text-xl font-semibold my-2\">{user.name}</p>\r\n                <div className=\"flex space-x-2 text-gray-400 text-sm\">\r\n\r\n                    <p>{user.company.name}</p>\r\n                </div>\r\n                <div className=\"flex space-x-2 text-gray-400 text-sm my-3\">\r\n\r\n                    <p>{user.website}</p>\r\n                </div>\r\n                <div className=\"border-t-2\"></div>\r\n\r\n                <div className=\"flex justify-between\">\r\n                    <div className=\"my-2\">\r\n                        <p className=\"font-semibold text-base mb-2\">User Name</p>\r\n                        <div className=\"flex space-x-2\">\r\n                            {user.username}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"my-2\">\r\n                        <p className=\"font-semibold text-base mb-2\">city</p>\r\n                        <div className=\"text-base text-gray-400 font-semibold\">\r\n                            <p>\r\n                                {user.address.city}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserItem","import React from 'react'\r\n\r\nconst UserItem: React.FunctionComponent<{}> = (props) => {\r\n    return (\r\n        <div className=\"w-full\">\r\n            <div className=\"h-full border-2 border-gray-200 rounded-lg overflow-hidden\">\r\n                <div className=\"p-6\">\r\n                    <h2 className=\"bg-gray-400 animate-pulse h-4 w-1/4 mb-2\"></h2>\r\n                    <h1 className=\"w-1/2 mb-4 h-6 animate-pulse bg-gray-500\"></h1>\r\n                    <p className=\"leading-relaxed mb-3 w-full h-3 animate-pulse bg-gray-400\"></p>\r\n                    <p className=\"leading-relaxed mb-3 w-2/3 h-3 animate-pulse bg-gray-400\"></p>\r\n                    <p className=\"leading-relaxed mb-3 w-1/2 h-3 animate-pulse bg-gray-400\"></p>\r\n                    <div className=\"flex items-center flex-wrap \">\r\n                        <a className=\"bg-indigo-300 h-4 animate-pulse mt-2 w-32 inline-flex items-center md:mb-2 lg:mb-0\">\r\n\r\n                        </a>\r\n                        <span className=\"bg-indigo-300 w-16 mt-2 h-4 animate-pulse mr-3 px-2 inline-flex items-center ml-auto leading-none text-sm pr-5 py-1\">\r\n\r\n                        </span>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserItem","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { userList as getUser } from \"@store/selector/user\";\r\nimport { getuserList } from \"../../store/actions/user\";\r\nimport CardUser from \"./views/CardUser\";\r\nimport CardUserLoading from \"./views/CardUserLoading\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction Home() {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const userList = useSelector(getUser);\r\n  const [paramsUser, setParamUser] = useState<{ page: number, limit: number }>({\r\n    page: 1,\r\n    limit: 12\r\n  })\r\n\r\n  const onLoadMore = () => {\r\n    const temParams = { ...paramsUser }\r\n    setParamUser({\r\n      page: temParams.page + 1,\r\n      limit: temParams.limit\r\n    })\r\n    dispatch(getuserList(temParams.page, temParams.limit))\r\n\r\n  }\r\n\r\n  const onClickCard = (id : string) => {\r\n    history.push(`user/${id}`)\r\n  }\r\n  useEffect(() => {\r\n    dispatch(getuserList(paramsUser.page, paramsUser.limit))\r\n  }, [])\r\n  return (\r\n    <div className=\"w-full max-w-8xl mx-auto my-20\">\r\n      {/* <div className=\"flex items-center justify-center\"> */}\r\n      <div className=\"grid grid-cols-4 auto-cols-max gap-6\">\r\n        \r\n        {!userList.loading && userList.list.length > 0 && (\r\n          userList.list.map((user, index) =>\r\n            (<CardUser user={user} onClickCard={onClickCard} key={index} />)\r\n          )\r\n        )}\r\n        {userList.loading && (\r\n          <>\r\n            <CardUserLoading />\r\n            <CardUserLoading />\r\n            <CardUserLoading />\r\n            <CardUserLoading />\r\n          </>\r\n        )}\r\n      </div>\r\n      {/* </div> */}\r\n      <div className=\" w-full flex justify-center mt-10\">\r\n        <button onClick={onLoadMore} className=\"bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded\">\r\n          Load More\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n"],"sourceRoot":""}